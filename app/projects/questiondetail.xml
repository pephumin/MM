<Page navigatingTo="onNavigatingTo" xmlns="http://schemas.nativescript.org/tns.xsd">

  <ActionBar>
    <NavigationButton tap="onBackButtonTap" android.systemIcon="menu_back"></NavigationButton>
    <Label class="ibm7 h2" text="Question details"></Label>
  </ActionBar>

  <GridLayout id="questionContent" rows="auto, *, auto" columns="*">

    <StackLayout row="0" orientation="horizontal" class="container" marginBottom="20">
      <Label class="fas h1" color="green" text="&#xf0a1;" horizontalAlignment="right" marginRight="25" verticalAlignment="bottom"></Label>
      <Label class="qtitle" text="{{ currentQuestion.title }}" textWrap="true"></Label>    
    </StackLayout>
 
    <StackLayout height="auto" row="1" visibility="{{ currentQuestion.type === 'html' ? 'visible' : 'collapse' }}">
      <TextView class="qanswer" text="{{ currentQuestion.html }}" autocapitalizationType="none"></TextView>
    </StackLayout>

    <StackLayout height="auto" row="1" visibility="{{ ((currentQuestion.type === 'text') || (currentQuestion.type === 'comment')) ? 'visible' : 'collapse' }}">
      <TextField class="qanswer" text="" hint="short response" autocapitalizationType="none" editable="true"></TextField>
    </StackLayout>

    <StackLayout height="auto" row="1" visibility="{{ currentQuestion.type === 'rating' ? 'visible' : 'collapse' }}">
      <GridLayout class="fas h3" rows="auto, auto, auto, auto, auto, auto" columns="*, *, *, *, *" marginBottom="30">
        <Label text="&#xf005;" row="0" col="0"></Label>
        <Label text="&#xf005;" row="0" col="1"></Label>
        <Label text="&#xf005;" row="0" col="2"></Label>
        <Label text="&#xf005;" row="0" col="3"></Label>
        <Label text="&#xf005;" row="0" col="4"></Label>
        <Label text="" row="1" col="0"></Label>
        <Label text="&#xf005;" row="1" col="1"></Label>
        <Label text="&#xf005;" row="1" col="2"></Label>
        <Label text="&#xf005;" row="1" col="3"></Label>
        <Label text="&#xf005;" row="1" col="4"></Label>
        <Label text="" row="2" col="0"></Label>
        <Label text="" row="2" col="1"></Label>
        <Label text="&#xf005;" row="2" col="2"></Label>
        <Label text="&#xf005;" row="2" col="3"></Label>
        <Label text="&#xf005;" row="2" col="4"></Label>
        <Label text="" row="3" col="0"></Label>
        <Label text="" row="3" col="1"></Label>
        <Label text="" row="3" col="2"></Label>
        <Label text="&#xf005;" row="3" col="3"></Label>
        <Label text="&#xf005;" row="3" col="4"></Label>
        <Label text="" row="4" col="0"></Label>
        <Label text="" row="4" col="1"></Label>
        <Label text="" row="4" col="2"></Label>
        <Label text="" row="4" col="3"></Label>
        <Label text="&#xf005;" row="4" col="4"></Label>
        <Label text="" row="5" col="0"></Label>
        <Label text="" row="5" col="1"></Label>
        <Label text="" row="5" col="2"></Label>
        <Label text="" row="5" col="3"></Label>
        <Label text="" row="5" col="4"></Label>
        <Label text="" row="6" col="0"></Label>
        <Label text="" row="6" col="1"></Label>
        <Label text="" row="6" col="2"></Label>
        <Label text="" row="6" col="3"></Label>
        <Label text="" row="6" col="4"></Label>
        <Label class="qanswer" text="1" row="7" col="0"></Label>
        <Label class="qanswer" text="2" row="7" col="1"></Label>
        <Label class="qanswer" text="3" row="7" col="2"></Label>
        <Label class="qanswer" text="4" row="7" col="3"></Label>
        <Label class="qanswer" text="5" row="7" col="4"></Label>
      </GridLayout>
    </StackLayout>

    <!-- <ListPicker row="1" items="{{ choices }}" visibility="{{ type === 'dropdown' ? 'visible' : 'collapse' }}" /> -->

    <ListView height="auto" row="1" items="{{ currentQuestion.choices }}" visibility="{{ currentQuestion.type === 'dropdown' ? 'visible' : 'collapse' }}">
      <ListView.itemTemplate>
        <StackLayout orientation="horizontal">
          <Label class="fas" color="grey" text="&#xf0a3;"></Label>
          <Label class="qanswer" text="{{ text }}"></Label>
        </StackLayout>
      </ListView.itemTemplate>
    </ListView>

      <ListView row="1" items="{{ currentQuestion.columns }}" visibility="{{ currentQuestion.type === 'matrixdropdown' ? 'visible' : 'collapse' }}">
        <ListView.itemTemplate>
          <StackLayout>
            <Label class="ibm7 h3" text="{{ title }}" />
            <ListView items="{{ choices }}">
              <ListView.itemTemplate>
                <StackLayout orientation="horizontal" class="ml-2">
                  <Label class="fas" color="grey" text="&#xf0a3;" />
                  <Label class="qanswer" text="{{ text }}" />
                </StackLayout>
              </ListView.itemTemplate>
            </ListView>
          </StackLayout>
        </ListView.itemTemplate>
      </ListView>

    <ListView height="auto" row="1" items="{{ currentQuestion.choices }}" visibility="{{ currentQuestion.type === 'radiogroup' ? 'visible' : 'collapse' }}">
      <ListView.itemTemplate>
        <StackLayout orientation="horizontal">
          <Label class="fas" color="grey" text="&#xf0a3;"></Label>
          <Label class="qanswer" text="{{ text }}"></Label>
        </StackLayout>
      </ListView.itemTemplate>
    </ListView>

    <ListView height="auto" row="1" items="{{ currentQuestion.choices }}" visibility="{{ currentQuestion.type === 'checkbox' ? 'visible' : 'collapse' }}">
      <ListView.itemTemplate>
        <StackLayout orientation="horizontal">
          <Label class="fas" color="grey" text="&#xf14a;"></Label>
          <Label class="qanswer" text="{{ text }}"></Label>
        </StackLayout>
      </ListView.itemTemplate>
    </ListView>

    <ListView height="auto" row="1" items="{{ currentQuestion.items }}" visibility="{{ currentQuestion.type === 'multipletext' ? 'visible' : 'collapse' }}">
      <ListView.itemTemplate>
        <GridLayout rows="auto" columns="auto, *">
          <Label row="0" col="0" class="qanswer" text="{{ title }}"></Label>
          <TextField row="0" col="1" hint="short reponse" text=""></TextField>
        </GridLayout>
      </ListView.itemTemplate>
    </ListView>

    <!-- Pagination -->
    <DockLayout row="2" class="pagination-container" stretchLastChild="true">
      <GridLayout rows="auto auto" columns="*, auto, auto" dock="bottom">
        <!-- <Label class="fas h1" color="lightgrey" text="&#xf201;" row="0" col="0" colspan="2" horizontalAlignment="center" verticalAlignment="bottom"></Label> -->
        <StackLayout row="0" col="0" rowSpan="2" verticalAlignment="middle" horizontalAlignment="center">
          <StackLayout class="h3" orientation="horizontal">
            <Label text="{{ currentQuestion.name }}"></Label>
            <Label text=" ("></Label>
            <Label text="{{ currentQuestion.id }}"></Label>
            <Label text=")"></Label>
            <!-- <Label text="{{ currentQuestionIndex }}"></Label> -->
          </StackLayout>
          <StackLayout class="h4" orientation="horizontal">
            <!-- <Label text="Type: "></Label> -->
            <Label text="{{ currentQuestion.type }}"></Label>
          </StackLayout>
        </StackLayout>
        <Button class="btn btn-secondary" text="<<" row="0" col="1" tap="showPreviousQuestion" isEnabled="{{ canGoPrev }}"></Button>
        <Button class="btn btn-secondary" text=">>" row="0" col="2" tap="showNextQuestion" isEnabled="{{ canGoNext }}"></Button>
        <Button class="btn btn-primary" text="Back" row="1" col="1" tap="goQuestion" isEnabled="true"></Button>
        <Button class="btn btn-primary" text="Home" row="1" col="2" tap="goProject" isEnabled="true"></Button>
      </GridLayout>
    </DockLayout>


  </GridLayout>

</Page>
