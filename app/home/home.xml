<Page navigatingTo="onNavigatingTo" xmlns="http://schemas.nativescript.org/tns.xsd">

  <ActionBar>
    <Label class="ibm7 h2" text="Home" />
  </ActionBar>

  <GridLayout rows="auto, *, auto">

    <!-- Search bar -->
    <SearchBar row="0" hint="Search items..." text="{{ searchQuery }}" submit="onSearchSubmit" clear="onSearchClear" textChange="onSearchTextChanged" />
    
    <!-- List view -->
    <ListView row="1" items="{{ items }}" itemTap="onItemTap">
      <ListView.itemTemplate>
        <GridLayout padding="16" rows="*" columns="20, auto, *, auto">
          <ContentView col="0" width="20" height="20" borderRadius="10" backgroundColor="{{ status === 1 ? '#65adf1' : '#e0e0e0' }}" />
          <Label class="ibm5" text="{{ id }}" col="1" textWrap="true" marginLeft="8" />
          <Label class="ibm7" text="{{ title }}" col="2" textWrap="true" marginLeft="8" />
          <Label class="ibm5" text="Published" col="3" color="#65adf1" marginRight="4" visibility="{{ status === 1 ? 'visible' : 'collapsed' }}" />
        </GridLayout>
      </ListView.itemTemplate>
    </ListView>

    <!-- Pagination -->
    <StackLayout row="2" orientation="horizontal" horizontalAlignment="center" width="90%" class="pagination-container">
      <GridLayout rows="auto, auto, auto" columns="*">
        <StackLayout orientation="horizontal" horizontalAlignment="center" row="0">
          <Label class="ibm4" text="Total: " />
          <Label class="ibm4" text="{{ totalItems }}" />
          <Label class="ibm4" text=" Showing " />
          <Label class="ibm4" text="{{ startItem }}" />
          <Label class="ibm4" text=" to " />
          <Label class="ibm4" text="{{ stopItem }}" />
        </StackLayout>
        <StackLayout orientation="horizontal" horizontalAlignment="center" row="1">
          <Button class="btn ibm4" text="<< Prev" tap="{{ goPrev }}" isEnabled="{{ currentPage > 1 }}" />
          <Label class="ibm4" text="Page " />
          <Label class="ibm4" text="{{ currentPage }}" />
          <Label class="ibm4" text=" / " />
          <Label class="ibm4" text="{{ totalPages }}" />
          <Button class="btn ibm4" text="Next >>" tap="{{ goNext }}" isEnabled="{{ currentPage < totalPages }}" />
        </StackLayout>
      </GridLayout>
    </StackLayout>

  </GridLayout>
</Page>
